{% extends 'base.html' %}

{% block title %}My Collections{% endblock %}

{% block content %}
 <div class="posts-wrapper">
  <h1>My Collections</h1>
  {% if resources %}
  {% for resource in resources %}
    <div class="post-container">
      <div class="post-header">
        <span class="post-title">{{ resource.title }}</span>
        <span class="post-language">{{ resource.language }}</span>
        <span class="post-username">uploaded by {{ resource.user.username }}</span>
        <span class="post-date">{{ resource.formatted_timestamp }}</span>
        <span class="post-rating">{{ resource.rating }}</span>
      </div>
      <div class="post-content">
        {% if resource.content|length > 1000 %}
          <p>{{ resource.content[:1000] }}...</p>
          <a href="{{ url_for('view_text_resource', text_resource_id=resource.id) }}">Read more</a>
        {% else %}
          <p>{{ resource.content }}</p>
        {% endif %}
      </div>
    </div>
  {% endfor %}
  {% else %}
    <p>No text resources found. Upload a new text resource to get started!</p>
  {% endif %}
  </div>
{% endblock %}
